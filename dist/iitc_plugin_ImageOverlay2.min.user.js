// ==UserScript==
// @name            IITC plugin: ImageOverlay2
// @id              iitc_plugin_ImageOverlay2
// @category        Draw
// @version         0.0.0
// @namespace       https://github.com/jonatkins/ingress-intel-total-conversion
// @description     Put an image in your map
// @include         https://intel.ingress.com/*
// @author          Hevne
// ==/UserScript==
function wrapper(g) { !function (g) { var A = {}; function I(C) { if (A[C]) return A[C].exports; var t = A[C] = { i: C, l: !1, exports: {} }; return g[C].call(t.exports, t, t.exports, I), t.l = !0, t.exports } I.m = g, I.c = A, I.d = function (g, A, C) { I.o(g, A) || Object.defineProperty(g, A, { enumerable: !0, get: C }) }, I.r = function (g) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(g, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(g, "__esModule", { value: !0 }) }, I.t = function (g, A) { if (1 & A && (g = I(g)), 8 & A) return g; if (4 & A && "object" == typeof g && g && g.__esModule) return g; var C = Object.create(null); if (I.r(C), Object.defineProperty(C, "default", { enumerable: !0, value: g }), 2 & A && "string" != typeof g) for (var t in g) I.d(C, t, function (A) { return g[A] }.bind(null, t)); return C }, I.n = function (g) { var A = g && g.__esModule ? function () { return g.default } : function () { return g }; return I.d(A, "a", A), A }, I.o = function (g, A) { return Object.prototype.hasOwnProperty.call(g, A) }, I.p = "", I(I.s = 2) }([function (g, A) { g.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10'/%3E" }, function (g, A) { L.ImageOverlay.Rotated = L.ImageOverlay.extend({ initialize: function (g, A, I, C, t) { "string" == typeof g ? this._url = g : this._rawImage = g, this._topLeft = L.latLng(A), this._topRight = L.latLng(I), this._bottomLeft = L.latLng(C), L.setOptions(this, t) }, onAdd: function (g) { this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()), this.options.interactive && (L.DomUtil.addClass(this._rawImage, "leaflet-interactive"), this.addInteractiveTarget(this._rawImage)), g.on("zoomend resetview", this._reset, this), this.getPane().appendChild(this._image), this._reset() }, onRemove: function (g) { g.off("zoomend resetview", this._reset, this), L.ImageOverlay.prototype.onRemove.call(this, g) }, _initImage: function () { var g = this._rawImage; this._url && ((g = L.DomUtil.create("img")).style.display = "none", this.options.crossOrigin && (g.crossOrigin = ""), g.src = this._url, this._rawImage = g), L.DomUtil.addClass(g, "leaflet-image-layer"); var A = this._image = L.DomUtil.create("div", "leaflet-image-layer " + (this._zoomAnimated ? "leaflet-zoom-animated" : "")); this._updateZIndex(), A.appendChild(g), A.onselectstart = L.Util.falseFn, A.onmousemove = L.Util.falseFn, g.onload = function () { this._reset(), g.style.display = "block", this.fire("load") }.bind(this), g.alt = this.options.alt }, _reset: function () { var g = this._image; if (this._map) { var A = this._map.latLngToLayerPoint(this._topLeft), I = this._map.latLngToLayerPoint(this._topRight), C = this._map.latLngToLayerPoint(this._bottomLeft), t = I.subtract(A).add(C), e = L.bounds([A, I, C, t]), i = e.getSize(), a = A.subtract(e.min); this._bounds = L.latLngBounds(this._map.layerPointToLatLng(e.min), this._map.layerPointToLatLng(e.max)), L.DomUtil.setPosition(g, e.min), g.style.width = i.x + "px", g.style.height = i.y + "px"; var n = this._rawImage.width, o = this._rawImage.height; if (n && o) { var s = I.subtract(A), r = C.subtract(A); this._rawImage.style.transformOrigin = "0 0", this._rawImage.style.transform = "matrix(" + s.x / n + ", " + s.y / n + ", " + r.x / o + ", " + r.y / o + ", " + a.x + ", " + a.y + ")" } } }, reposition: function (g, A, I) { this._topLeft = L.latLng(g), this._topRight = L.latLng(A), this._bottomLeft = L.latLng(I), this._reset() }, setUrl: function (g) { return this._url = g, this._rawImage && (this._rawImage.src = g), this } }), L.imageOverlay.rotated = function (g, A, I, C, t) { return new L.ImageOverlay.Rotated(g, A, I, C, t) } }, function (A, I, C) { "use strict"; C.r(I); var t = C(0), e = C.n(t); C(1); !function (A, I) { const C = () => { window.plugin[I] = A, window.plugin[I].init() }; C.info = g, window.bootPlugins || (window.bootPlugins = []), window.bootPlugins.push(C), window.iitcLoaded && C() }(new class { constructor() { this.settings = { imgUrl: e.a, opacity: .5, noRotate: !1, firstRun: !0, latlng: [[1, 1], [1, 1], [1, 1]] } } init() { this.loadStore(), this.createMarkers(), this.createImage(), window.map.on("layeradd", g => { g.layer === this.overlay && this.overlay.bringToBack() }), this.addToolbar() } createMarkers() { const g = L.icon({ iconUrl: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAA57GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTgtMTAtMTNUMDc6MjQ6MzkrMDI6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOC0xMC0xM1QwNzozMDowOCswMjowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTgtMTAtMTNUMDc6MzA6MDgrMDI6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NTYzY2VmODAtYzg4MC1lNjRiLTlhNjctMDQ5Y2M2MWVhYWUxPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDZmNjZlMTEtY2VhOC0xMWU4LWI3YTktZTVjOWViZjBjNWJhPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YzY3NDNmY2YtMjgwZC01YzRiLTkyZjktNTI4MDAzZDlkNzkzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmM2NzQzZmNmLTI4MGQtNWM0Yi05MmY5LTUyODAwM2Q5ZDc5Mzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0xMC0xM1QwNzoyNDozOSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo1NjNjZWY4MC1jODgwLWU2NGItOWE2Ny0wNDljYzYxZWFhZTE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMTAtMTNUMDc6MzA6MDgrMDI6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MzI8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MzI8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pl1Agl0AAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAACURJREFUeNq0V1uMG2cVPvauQQJUmk121577fcb2ri9rb7xrrz2e+a8z9rgtUi/Ql6JKpEgIRfAATwgJEEIVN1FeoEKorSj3CpI+VJFKq4YkKFLolVJxKUSitKVpSyXaIkJ/Hmzn2qTpAw+/PJqx/vOd23e+AxgPFzEeLsx+r/R5kXGU7/U6uLPZShlH+Xf6/yXOArxb44REC5wjmEwS8CzriG2Yfx5nHBhHQEi08G6cwHi4CFeAcpGQaJExBDzBwBiC4bAP/Z1tqAbBIccwT/T73XwcD4DSGJKEAOPoiu49F8DbokQoXGQMzS4MYWuzHQW2e4djmsd0WXnONa23LFX/r6Foz7umdbzi+d9p1tdZGO5AmlJgDAHGw8Jl0rFwIdIzIUQoXOQJBs4xrJXL15qafsxQNKGVZKEWJaGVZGGqunAMU6hFaXpKslBLkrA147fNWu0jCA+BJ/hS0Vh4OwBnPE9TAoRG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", iconSize: [32, 32], iconAnchor: [16, 16] }), A = L.icon({ iconUrl: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALfAAAC3wBG11W/wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHFSURBVFiFxde9jw1RGAbwH3eFpdxkRU+yEgpb+Kz8BULCquhWVKLzJ4gsreh0KJeEaGyzBYloFSSSS4RNNCwuYq/i3JPM3h3zPbNPcpIzZ977Ps/MvF+3px7mMYtXNf1UwmEM8BsnuiafxnsMR+sj9nRFPoGlBHlcy9jWhYCbKeRxLbRNfgZrGQKGmGuLfAZfc8iHWMWBok63FLTbjkXsG13vwu4xm8/4Ptq/wSn8KiqkLM7Z+ORnqzjamnN/RxWnZXxkCZgRXntdPMbBsgLm8BL7GxCwFy9wsYiAHq7jnhBoTWESd3HHWLGaSOyncR8nE2c7pQfX0YJn0UfEvJBJ57GSNJrFO/k53tT6kBR8AT86JI9rgCt5adg2fsbNpn2CZClOC8IvuJyi/Biujp3dwvMU29uYSlwvSQnCiJiGseP104yUK8X9hM2GNByPgb+4htNC52sKq8JTX8KfLAERiziC1w2Qv8VxPKjy4/81kjKfoHIzIuRqXWT6KDOQPBQaC5s0kBQdyb4pMZKVRd5QuibER6tYyBBwo21yQrF6mkL+zPr23iqmrO8dfaGUd4pDQhsfCH9UK6FXQ8AnoaE8waOqTv4Ba1XjJrqWs5QAAAAASUVORK5CYII=", iconSize: [32, 32], iconAnchor: [16, 16] }); this.markers = [L.marker(L.latLng(this.settings.latlng[0]), { draggable: !0, icon: g }).on("drag dragend", g => this.onMarkerMoved(g)), L.marker(L.latLng(this.settings.latlng[1]), { draggable: !0, icon: g }).on("drag dragend", g => this.onMarkerMoved(g)), L.marker(L.latLng(this.settings.latlng[2]), { draggable: !0, icon: g }).on("drag dragend", g => this.onMarkerMoved(g)), L.marker(L.latLng(0, 0), { draggable: !0, icon: A }).on("drag dragend", g => this.onMoverDragged(g))], this.markers[3].setLatLng(this.getCenter()) } getCenter() { const g = this.markers[1].getLatLng(), A = this.markers[2].getLatLng(); return L.latLng((g.lat + A.lat) / 2, (g.lng + A.lng) / 2) } showMarkers() { this.markers.forEach(g => g.addTo(window.map)) } hideMarkers() { this.markers.forEach(g => window.map.removeLayer(g)) } resetMarkerPositions() { const g = window.map.getBounds(), A = .4 * (g.getEast() - g.getWest()), I = .2 * (g.getSouth() - g.getNorth()); this.markers[0].setLatLng(L.latLng(g.getNorth() + I, g.getWest() + A)), this.markers[1].setLatLng(L.latLng(g.getNorth() + I, g.getEast() - A)), this.markers[2].setLatLng(L.latLng(g.getSouth() - I, g.getWest() + A)), this.markers[3].setLatLng(this.getCenter()), this.overlay && this.repositionImage() } clearContents() { this.setNewImage(e.a) } onMoverDragged(g) { const A = this.getCenter(), I = this.markers[3].getLatLng(), C = I.lat - A.lat, t = I.lng - A.lng; this.markers.forEach((g, A) => { if (3 !== A) { const A = g.getLatLng(); g.setLatLng(L.latLng(A.lat + C, A.lng + t)) } }), this.repositionImage() } onMarkerMoved(g) { if (this.settings.noRotate) { const A = this.markers[0].getLatLng(), I = this.markers[1].getLatLng(), C = this.markers[2].getLatLng(); g.target === this.markers[0] ? (I.lat = A.lat, C.lng = A.lng) : g.target === this.markers[1] ? A.lat = I.lat : g.target === this.markers[2] && (A.lng = C.lng), this.markers[0].setLatLng(A), this.markers[1].setLatLng(I), this.markers[2].setLatLng(C) } this.markers[3].setLatLng(this.getCenter()), this.repositionImage() } repositionImage() { var g; null === (g = this.overlay) || void 0 === g || g.reposition(this.markers[0].getLatLng(), this.markers[1].getLatLng(), this.markers[2].getLatLng()) } showDialog() { const g = $("<table>").append($("<div>").append($("<label>", { for: "file", text: "Image" }), $("<input>", { id: "file", type: "file" }).change(() => this.newImageFile())), $("<div>").append($("<label>", { for: "imagenoRotate", text: "keep orientation" }), $("<input>", { id: "imagenoRotate", type: "checkbox" }).prop("checked", this.settings.noRotate).change(() => this.onNoRotationChanged())), $("<div>").append($("<label>", { for: "opacity", text: "Opacity" }), $("<input>", { id: "opacity", type: "range", min: "0", max: "100", class: "slider" }).val(100 * this.settings.opacity).on("input", g => this.onOpacityChange(g.target.value)).change(g => this.onOpacityChange(g.target.value))), $("<div>").append($("<button>", { text: "Reset position" }).click(() => this.resetMarkerPositions())), $("<div>").append($("<button>", { text: "Clear image" }).click(() => this.clearContents()), $("<p>"), $("<span>", { text: 'Large images can\'t be stored and will cost much memory. use "Clear Content" to remove image' }))); dialog({ html: g, title: "Image Overlay", id: "imageOverlay2", position: { my: "left center", at: "left+60 center", of: window }, closeCallback: () => this.onDlgCLose() }), this.showMarkers(), this.settings.firstRun && (this.settings.firstRun = !1, this.resetMarkerPositions()) } onDlgCLose() { const g = this.markers[0].getLatLng(), A = this.markers[1].getLatLng(), I = this.markers[2].getLatLng(); this.settings.latlng[0] = [g.lat, g.lng], this.settings.latlng[1] = [A.lat, A.lng], this.settings.latlng[2] = [I.lat, I.lng], this.saveStore(), this.hideMarkers() } newImageFile() { const g = document.querySelector("input[type=file]").files[0], A = new FileReader; A.addEventListener("load", () => this.setNewImage(A.result), !1), g && A.readAsDataURL(g) } onOpacityChange(g) { this.settings.opacity = parseInt(g) / 100, this.overlay && this.overlay.setOpacity(this.settings.opacity) } onNoRotationChanged() { this.settings.noRotate = document.querySelector("#imagenoRotate").checked, this.onMarkerMoved({ target: this.markers[0] }) } createImage() { const g = this.settings.imgUrl; this.overlay = L.imageOverlay.rotated(g, this.markers[0].getLatLng(), this.markers[1].getLatLng(), this.markers[2].getLatLng(), { opacity: this.settings.opacity, interactive: !1, clickable: !1 }), window.addLayerGroup("Image Overlay", this.overlay, !0), this.overlay.bringToBack() } setNewImage(g) { this.settings.imgUrl = g, this.overlay && this.overlay.setUrl(g) } addToolbar() { const g = $('<a href="#">Image</a>').on("click", () => this.showDialog()); $("#toolbox").append(g) } loadStore() { const g = localStorage.getItem("plugin-imageOverlay2"); g && $.extend(this.settings, JSON.parse(g)) } saveStore() { const g = JSON.stringify(this.settings); try { localStorage.setItem("plugin-imageOverlay2", g) } catch (g) { this.settings.imgUrl = e.a; const A = JSON.stringify(this.settings); localStorage.setItem("plugin-imageOverlay2", A) } } }, "ImageOverlay2") }]) } !function () { const g = {}; if ("undefined" != typeof GM_info && GM_info && GM_info.script && (g.script = { version: GM_info.script.version, name: GM_info.script.name }), "undefined" != typeof unsafeWindow || "undefined" == typeof GM_info || "Tampermonkey" != GM_info.scriptHandler) { const A = document.createElement("script"); A.appendChild(document.createTextNode("(" + wrapper + ")(" + JSON.stringify(g) + ");")), document.head.appendChild(A) } else wrapper(g) }();